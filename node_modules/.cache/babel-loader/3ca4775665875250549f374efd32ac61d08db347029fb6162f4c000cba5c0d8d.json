{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vlodg\\\\Desktop\\\\project-loto\\\\react-loto\\\\src\\\\pages\\\\Register.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport * as Yup from 'yup';\nimport { useFormik } from 'formik';\nimport { Box, Container, CssBaseline, Alert } from '@mui/material';\nimport Form from \"../components/form/Form\";\nimport axios from \"axios\";\nimport { isAuth } from \"../helpers/isAuth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n  const [authError, setAuthError] = useState(false);\n  const navigate = useNavigate();\n  const isAuthenticated = isAuth();\n  useEffect(() => {\n    if (isAuthenticated) {\n      navigate('/');\n    }\n  }, [isAuthenticated, navigate]);\n  const formik = useFormik({\n    initialValues: {\n      name: '',\n      lastName: '',\n      email: '',\n      password: ''\n    },\n    validationSchema: Yup.object({\n      name: Yup.string().required('Name is required'),\n      lastName: Yup.string().required('Last name is required'),\n      email: Yup.string().email('Invalid email').required('Invalid email'),\n      password: Yup.string().min(5, 'Too Short!').max(15, 'Too Long!').required('Invalid password')\n    }),\n    onSubmit: values => {\n      handleOnSubmit(values);\n    }\n  });\n  const fields = [{\n    id: 'name',\n    name: 'name',\n    label: 'Name',\n    type: 'text'\n  }, {\n    id: 'lastName',\n    name: 'lastName',\n    label: 'Last Name',\n    type: 'text'\n  }, {\n    id: 'email',\n    name: 'email',\n    label: 'Email',\n    type: 'type'\n  }, {\n    id: 'password',\n    name: 'password',\n    label: 'Password',\n    type: 'password'\n  }];\n  const navigationData = {\n    text: 'Already have an account?',\n    path: '/login'\n  };\n  const handleNavigate = path => event => {\n    navigate(path);\n  };\n  const errorHandler = () => {\n    setAuthError(true);\n    setTimeout(() => {\n      setAuthError(false);\n    }, 3000);\n  };\n  const handleOnSubmit = values => {\n    try {\n      axios.post(`${process.env.REACT_APP_SERVER_API_URI}/auth/register`, values).then(res => {\n        if (res.data.error) {\n          errorHandler();\n        } else {\n          navigate('/login');\n        }\n      }).catch(e => {\n        errorHandler();\n      });\n    } catch (e) {\n      errorHandler();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: 700,\n        mx: 'auto',\n        my: 4,\n        py: 3,\n        px: 2,\n        display: 'flex',\n        flexDirection: 'column',\n        gap: 2,\n        borderRadius: 5,\n        boxShadow: 'md',\n        border: '1px solid #ccc'\n      },\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        component: \"main\",\n        maxWidth: \"xs\",\n        children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 19\n        }, this), authError ? /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          children: \"Something went wrong\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 27\n        }, this) : null, /*#__PURE__*/_jsxDEV(Form, {\n          formik: formik,\n          handleNavigate: handleNavigate,\n          fields: fields,\n          navigationData: navigationData,\n          page: 'Register'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }, this)\n  }, void 0, false);\n}\n_s(Register, \"caS+Nn8QJ65SRQN0Zck7xOdBU3g=\", false, function () {\n  return [useNavigate, useFormik];\n});\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["useEffect","useState","useNavigate","Yup","useFormik","Box","Container","CssBaseline","Alert","Form","axios","isAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","Register","_s","authError","setAuthError","navigate","isAuthenticated","formik","initialValues","name","lastName","email","password","validationSchema","object","string","required","min","max","onSubmit","values","handleOnSubmit","fields","id","label","type","navigationData","text","path","handleNavigate","event","errorHandler","setTimeout","post","process","env","REACT_APP_SERVER_API_URI","then","res","data","error","catch","e","children","sx","width","mx","my","py","px","display","flexDirection","gap","borderRadius","boxShadow","border","component","maxWidth","fileName","_jsxFileName","lineNumber","columnNumber","severity","page","_c","$RefreshReg$"],"sources":["C:/Users/vlodg/Desktop/project-loto/react-loto/src/pages/Register.tsx"],"sourcesContent":["import {MouseEvent, useEffect, useState} from \"react\";\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport * as Yup from 'yup';\r\nimport {useFormik} from 'formik';\r\nimport {Box, Container, CssBaseline, Alert} from '@mui/material'\r\nimport Form from \"../components/form/Form\";\r\nimport {IFormField} from \"../interfaces/global\";\r\nimport axios from \"axios\";\r\nimport {isAuth} from \"../helpers/isAuth\";\r\n\r\ninterface IFormData {\r\n    name: string,\r\n    lastName: string,\r\n    email: string\r\n    password: string\r\n}\r\n\r\nexport default function Register() {\r\n    const [authError, setAuthError] = useState<boolean>(false)\r\n    const navigate = useNavigate()\r\n\r\n    const isAuthenticated = isAuth()\r\n    useEffect(() => {\r\n        if (isAuthenticated) {\r\n            navigate('/')\r\n        }\r\n    }, [isAuthenticated, navigate]);\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            name: '',\r\n            lastName: '',\r\n            email: '',\r\n            password: '',\r\n        },\r\n        validationSchema: Yup.object({\r\n            name: Yup.string().required('Name is required'),\r\n            lastName: Yup.string().required('Last name is required'),\r\n            email: Yup.string().email('Invalid email').required('Invalid email'),\r\n            password: Yup.string()\r\n              .min(5, 'Too Short!')\r\n              .max(15, 'Too Long!')\r\n              .required('Invalid password'),\r\n        }),\r\n        onSubmit: (values: IFormData) => {\r\n            handleOnSubmit(values)\r\n        },\r\n    });\r\n\r\n    const fields: IFormField[] = [\r\n        {\r\n            id: 'name',\r\n            name: 'name',\r\n            label: 'Name',\r\n            type: 'text'\r\n        },\r\n        {\r\n            id: 'lastName',\r\n            name: 'lastName',\r\n            label: 'Last Name',\r\n            type: 'text'\r\n        },\r\n        {\r\n            id: 'email',\r\n            name: 'email',\r\n            label: 'Email',\r\n            type: 'type'\r\n        },\r\n        {\r\n            id: 'password',\r\n            name: 'password',\r\n            label: 'Password',\r\n            type: 'password'\r\n        },\r\n    ]\r\n    const navigationData = {\r\n        text: 'Already have an account?',\r\n        path: '/login'\r\n    }\r\n\r\n    const handleNavigate = (path: string) => (event: MouseEvent<HTMLElement>) => {\r\n        navigate(path)\r\n    }\r\n\r\n    const errorHandler = () => {\r\n        setAuthError(true)\r\n        setTimeout(() => {\r\n            setAuthError(false)\r\n        }, 3000)\r\n    }\r\n\r\n    const handleOnSubmit = (values: IFormData) => {\r\n        try {\r\n            axios.post(`${process.env.REACT_APP_SERVER_API_URI}/auth/register`, values)\r\n              .then(res => {\r\n                  if (res.data.error) {\r\n                      errorHandler()\r\n                  } else {\r\n                      navigate('/login')\r\n                  }\r\n              })\r\n              .catch(e => {\r\n                  errorHandler()\r\n              })\r\n        } catch (e) {\r\n            errorHandler()\r\n        }\r\n    }\r\n\r\n    return (\r\n      <>\r\n          <Box\r\n            sx={{\r\n                width: 700,\r\n                mx: 'auto',\r\n                my: 4,\r\n                py: 3,\r\n                px: 2,\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                gap: 2,\r\n                borderRadius: 5,\r\n                boxShadow: 'md',\r\n                border: '1px solid #ccc',\r\n            }}\r\n          >\r\n              <Container component=\"main\" maxWidth=\"xs\">\r\n                  <CssBaseline/>\r\n                  {\r\n                      authError\r\n                        ? <Alert severity=\"error\">Something went wrong</Alert>\r\n                        : null\r\n                  }\r\n                  <Form formik={formik}\r\n                        handleNavigate={handleNavigate}\r\n                        fields={fields}\r\n                        navigationData={navigationData}\r\n                        page={'Register'}\r\n                  />\r\n              </Container>\r\n          </Box>\r\n      </>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}